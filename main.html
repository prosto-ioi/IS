<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ADAI-CRM ‚Äî Corporate Edition</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="main_style.css">
</head>
<body>
  <header class="header">
    <div class="brand">
      <div class="logo">AC</div>
      <div>
        <div class="title">ADAI-CRM</div>
        <div style="font-size:12px;color:rgba(255,255,255,0.75)"></div>
      </div>
    </div>

    <div class="top-controls">
      <div class="searchbar">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="opacity:0.9">
          <path d="M21 21l-4.35-4.35" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          <circle cx="11" cy="11" r="6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></circle>
        </svg>
        <input id="globalSearch" placeholder="–ü–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞, –∫–æ–º–ø–∞–Ω–∏–∏ –∏–ª–∏ —Å–¥–µ–ª–∫–∏" />
      </div>

      <button class="notif-btn" id="btnNotify">üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</button>
      <div id="notifPopup" class="notif-popup" style="display:none;">
        <h4>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h4>
        <div id="notifList" class="notif-list"></div>
        <button id="clearNotif" class="btn ghost" style="margin-top:8px;">–û—á–∏—Å—Ç–∏—Ç—å</button>
      </div>

      <!-- –°–µ–ª–µ–∫—Ç–æ—Ä —è–∑—ã–∫–∞ -->
      <div class="lang-selector" style="margin-right:16px;">
        <select id="languageSelect">
          <option value="ru" selected>–†—É—Å—Å–∫–∏–π</option>
          <option value="en">English</option>
          <option value="kz">“ö–∞–∑–∞“õ—à–∞</option>
        </select>
      </div>

      <div class="user-chip">
        <div style="text-align:right">
          <div style="font-weight:700">–ì–æ—Å–ø–æ–¥–∏–Ω</div>
          <div style="font-size:12px;color:rgba(255,255,255,0.8)">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</div>
          <button class="logout-btn" onclick="logoutUser()">üö™ –í—ã–π—Ç–∏</button>
        </div>
        <div class="avatar">AP</div>
      </div>
    </div>
  </header>

  <div class="container">
    <aside class="sidebar">
      <nav class="menu">
        <button class="active" data-page="dashboard"><span class="ico">üè¢</span>–ü–∞–Ω–µ–ª—å</button>
        <button data-page="clients"><span class="ico">üë•</span>–ö–ª–∏–µ–Ω—Ç—ã</button>
        <button data-page="tasks"><span class="ico">üóÇÔ∏è</span>–ó–∞–¥–∞—á–∏</button>
        <button data-page="deals"><span class="ico">üíº</span>–°–¥–µ–ª–∫–∏</button>
        <button data-page="employees"><span class="ico">üë∑</span>–†–∞–±–æ—Ç–Ω–∏–∫–∏</button>
        <button data-page="reports"><span class="ico">üìä</span>–û—Ç—á—ë—Ç—ã</button>
        <button data-page="settings"><span class="ico">‚öôÔ∏è</span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
      </nav>
      <div class="meta">ADAI-CRM ‚Äî –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è </div>
    </aside>

    <main class="content">
      <!-- Dashboard -->
      <section id="page-dashboard">
        <div class="top-kpis">
          <div class="kpi-card">
            <div class="kpi-left">
              <div class="kpi-value" id="kpiClients">0</div>
              <div class="kpi-label">–í—Å–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–≤</div>
            </div>
            <div class="kpi-icon">üìá</div>
          </div>

          <div class="kpi-card">
            <div class="kpi-left">
              <div class="kpi-value" id="kpiTasks">0</div>
              <div class="kpi-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á</div>
            </div>
            <div class="kpi-icon">üóìÔ∏è</div>
          </div>

          <div class="kpi-card">
            <div class="kpi-left">
              <div class="kpi-value" id="kpiRevenue">$0</div>
              <div class="kpi-label">–ú–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥</div>
            </div>
            <div class="kpi-icon">üí∞</div>
          </div>
        </div>

        <div class="layout-main">
          <div class="panel">
            <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è</h3>
            <div class="activity-list" id="activityList"></div>
          </div>

          <div class="panel calendar-panel">
            <h3>–ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–¥–∞–∂ (6 –º–µ—Å.)</h3>
            <canvas id="salesChart" style="width:100%;height:220px;margin-top:8px"></canvas>
          </div>
        </div>
      </section>

      <!-- Clients -->
      <section id="page-clients" style="display:none">
        <div class="panel">
          <div class="controls">
            <div class="left">
              <button class="btn" id="addClient">+ –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</button>
              <div class="view-toggle">
                <button class="ghost" data-view="table">–¢–∞–±–ª–∏—Ü–∞</button>
                <button class="ghost" data-view="cards">–ö–∞—Ä—Ç–æ—á–∫–∏</button>
                <button class="ghost" data-view="split">Split</button>
              </div>
            </div>
            <div style="display:flex;gap:8px;align-items:center">
              <input id="clientFilter" placeholder="–§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏–ª–∏ –∏–º–µ–Ω–∏" style="padding:8px;border-radius:10px;border:1px solid #eef2f6" />
              <input type="file" id="csvImport" accept="text/csv" />
              <button class="ghost" id="exportCsv">–≠–∫—Å–ø–æ—Ä—Ç CSV</button>
            </div>
          </div>

          <div id="view-table">
            <table>
              <thead>
                <tr>
                  <th>–ö–ª–∏–µ–Ω—Ç</th>
                  <th>–ö–æ–º–ø–∞–Ω–∏—è</th>
                  <th>–ö–æ–Ω—Ç–∞–∫—Ç</th>
                  <th>–ü–æ—Å–ª–µ–¥–Ω–µ–µ</th>
                  <th>–°—Ç–∞—Ç—É—Å</th>
                  <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
              </thead>
              <tbody id="clientsTableBody"></tbody>
            </table>
          </div>

          <div id="view-cards" style="display:none;margin-top:12px">
            <div class="cards-grid" id="clientsCards"></div>
          </div>

          <div id="view-split" style="display:none;margin-top:12px">
            <div class="split">
              <div class="panel list-panel" id="splitList"></div>
              <div class="panel detail-panel" id="splitDetail"><em>–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å–ª–µ–≤–∞, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–µ—Ç–∞–ª–∏.</em></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Tasks -->
      <section id="page-tasks" style="display:none">
        <div class="panel">
          <h3>–ó–∞–¥–∞—á–∏</h3>
          <div style="display:flex;gap:8px;margin-bottom:10px">
            <button class="btn" id="addTask">+ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
            <select id="taskAssignee"></select>
          </div>
          <table style="margin-top:12px">
            <thead>
              <tr>
                <th>–ó–∞–¥–∞—á–∞</th>
                <th>–°—Ä–æ–∫</th>
                <th>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
              </tr>
            </thead>
            <tbody id="tasksBody"></tbody>
          </table>
        </div>
      </section>

      <!-- Deals -->
      <section id="page-deals" style="display:none">
        <div class="panel">
          <h3>–°–¥–µ–ª–∫–∏ ‚Äî –í–æ—Ä–æ–Ω–∫–∞</h3>
          <div style="display:flex;gap:8px;margin-bottom:10px">
            <input id="dealName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏" style="padding:8px;border-radius:8px;border:1px solid #eef2f6" />
            <input id="dealValue" placeholder="–°—É–º–º–∞" style="padding:8px;border-radius:8px;border:1px solid #eef2f6;width:120px" />
            <button class="btn" id="addDeal">–î–æ–±–∞–≤–∏—Ç—å —Å–¥–µ–ª–∫—É</button>
          </div>
          <div class="pipeline">
            <div class="stage" data-stage="leads"><h4>Leads</h4><div class="list-stage" id="stage-leads"></div></div>
            <div class="stage" data-stage="negotiation"><h4>Negotiation</h4><div class="list-stage" id="stage-negotiation"></div></div>
            <div class="stage" data-stage="closed"><h4>Closed</h4><div class="list-stage" id="stage-closed"></div></div>
          </div>
        </div>
      </section>

      <!-- Employees -->
      <section id="page-employees" style="display:none">
        <div class="panel">
          <h3>–†–∞–±–æ—Ç–Ω–∏–∫–∏</h3>
          <div style="display:flex;gap:8px;margin-bottom:10px">
            <button class="btn" id="addEmployee">+ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–±–æ—Ç–Ω–∏–∫–∞</button>
          </div>
          <table style="margin-top:12px">
            <thead>
              <tr>
                <th>–ò–º—è</th>
                <th>–î–æ–ª–∂–Ω–æ—Å—Ç—å</th>
                <th>Email</th>
                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody id="employeesBody"></tbody>
          </table>
        </div>
      </section>

      <!-- Reports -->
      <section id="page-reports" style="display:none">
        <div class="panel">
          <h3>–û—Ç—á—ë—Ç—ã</h3>
          <p style="color:var(--muted)">–ì—Ä–∞—Ñ–∏–∫–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç (–¥–µ–º–æ)</p>
          <div style="height:260px;border-radius:8px;background:transparent;margin-top:10px;display:flex;align-items:center;justify-content:center;color:var(--muted)">
            <canvas id="reportChart" style="width:100%;height:220px"></canvas>
          </div>
        </div>
      </section>

      <!-- Settings -->
      <section id="page-settings" style="display:none">
        <div class="panel">
          <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
          <div style="display:flex;gap:8px;align-items:center;margin-top:10px">
            <label><input type="checkbox" id="emailNotif" /> –í–∫–ª—é—á–∏—Ç—å e-mail —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</label>
            <label style="margin-left:12px">–†–æ–ª—å: <select id="roleSelect"><option>Admin</option><option>Manager</option><option>User</option></select></label>
          </div>
          <div style="margin-top:12px">API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: <input id="apiKey" placeholder="API Key..." style="padding:6px;border-radius:6px;border:1px solid #eef2f6" /></div>
        </div>
      </section>

    </main>
  </div>
 
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ -->
  <div id="clientModal" class="modal" style="display:none">
    <div class="modal-content">
      <h3 id="clientModalTitle" data-i18n="addClient">–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</h3>
      <input type="hidden" id="clientEditId" />
      <label data-i18n="clientName">–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞</label>
      <input type="text" id="clientName" data-i18n-placeholder="clientNamePh" placeholder="–ò–º—è" />
      <label data-i18n="company">–ö–æ–º–ø–∞–Ω–∏—è</label>
      <input type="text" id="clientCompany" data-i18n-placeholder="companyPh" placeholder="–ö–æ–º–ø–∞–Ω–∏—è" />
      <label data-i18n="contact">–ö–æ–Ω—Ç–∞–∫—Ç</label>
      <input type="text" id="clientContact" data-i18n-placeholder="contactPh" placeholder="Email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω" />
      <label data-i18n="status">–°—Ç–∞—Ç—É—Å</label>
      <select id="clientStatus">
        <option value="–õ–∏–¥" data-i18n="status_lead">–õ–∏–¥</option>
        <option value="–ê–∫—Ç–∏–≤–Ω—ã–π" data-i18n="status_active">–ê–∫—Ç–∏–≤–Ω—ã–π</option>
        <option value="–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π" data-i18n="status_inactive">–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π</option>
      </select>
      <div class="modal-buttons">
        <button class="btn" id="clientModalSave" data-i18n="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button class="btn ghost" id="clientModalCancel" data-i18n="cancel">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∑–∞–¥–∞—á–∏ -->
  <div id="taskModal" class="modal" style="display:none">
    <div class="modal-content">
      <h3 id="taskModalTitle" data-i18n="addTask">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</h3>
      <input type="hidden" id="taskEditId" />
      <label data-i18n="taskName">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</label>
      <input type="text" id="taskTitle" data-i18n-placeholder="taskNamePh" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" />
      <label data-i18n="deadline">–°—Ä–æ–∫</label>
      <input type="date" id="taskDue" />
      <label data-i18n="assignee">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</label>
      <select id="taskAssigneeInput"></select>
      <label data-i18n="taskStatus">–°—Ç–∞—Ç—É—Å</label>
      <select id="taskStatus">
        <option value="–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ" data-i18n="status_planned">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</option>
        <option value="–í –ø—Ä–æ–≥—Ä–µ—Å—Å–µ" data-i18n="status_progress">–í –ø—Ä–æ–≥—Ä–µ—Å—Å–µ</option>
        <option value="–ó–∞–≤–µ—Ä—à–µ–Ω–æ" data-i18n="status_done">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</option>
      </select>
      <div class="modal-buttons">
        <button class="btn" id="taskModalSave" data-i18n="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button class="btn ghost" id="taskModalCancel" data-i18n="cancel">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ -->
  <div id="employeeModal" class="modal" style="display:none">
    <div class="modal-content">
      <h3 id="employeeModalTitle" data-i18n="addEmployee">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–±–æ—Ç–Ω–∏–∫–∞</h3>
      <input type="hidden" id="employeeEditId" />
      <label data-i18n="employeeName">–ò–º—è</label>
      <input type="text" id="employeeName" data-i18n-placeholder="namePh" placeholder="–ò–º—è" />
      <label data-i18n="position">–î–æ–ª–∂–Ω–æ—Å—Ç—å</label>
      <input type="text" id="employeePosition" data-i18n-placeholder="positionPh" placeholder="–î–æ–ª–∂–Ω–æ—Å—Ç—å" />
      <label>Email</label>
      <input type="email" id="employeeEmail" placeholder="Email" />
      <label data-i18n="phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
      <input type="tel" id="employeePhone" data-i18n-placeholder="phonePh" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" />
      <div class="modal-buttons">
        <button class="btn" id="employeeModalSave" data-i18n="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button class="btn ghost" id="employeeModalCancel" data-i18n="cancel">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <div id="modalRoot" style="display:none"></div>
  <script src="main_script.js"></script>
</body>
</html>
